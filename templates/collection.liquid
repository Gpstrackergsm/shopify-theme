{%- comment -%}
  Collection template listing products with pagination support.
{%- endcomment -%}
<section class="section" aria-labelledby="CollectionTitle">
  <header>
    <h1 id="CollectionTitle" class="section__heading">{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <div class="section__subheading">{{ collection.description }}</div>
    {% endif %}
  </header>

  {% paginate collection.products by 12 %}
    {% if collection.products_count > 0 %}
      <div class="product-grid">
        {% for product in collection.products %}
          {% render 'product-card', product: product %}
        {% endfor %}
      </div>
    {% else %}
      <p>{{ 'templates.collection.empty' | t }}</p>
    {% endif %}

    {% if paginate.pages > 1 %}
      <nav class="pagination" role="navigation" aria-label="Pagination">
        {% if paginate.previous %}
          <a href="{{ paginate.previous.url }}">&larr; {{ 'general.pagination.previous' | t }}</a>
        {% endif %}
        <span>{{ paginate.current_page }} / {{ paginate.pages }}</span>
        {% if paginate.next %}
          <a href="{{ paginate.next.url }}">{{ 'general.pagination.next' | t }} &rarr;</a>
        {% endif %}
      </nav>
    {% endif %}
  {% endpaginate %}
</section>
